# プロジェクト分析レポート: webpage-piano

## 1. プロジェクト概要

このプロジェクトは `webpage-piano` という名前のインタラクティブなウェブピアノアプリケーションです。`README.md`の記述から、HTML5技術をベースにしたオンラインピアノであることがわかります。

- **プロジェクト名:** webpage-piano
- **説明:** A web page piano. Html5 piano. 网页钢琴，html5钢琴，js piano.
- **バージョン:** 0.1.0

## 2. 技術スタック

`package.json`の内容から、このプロジェクトはVue.jsエコシステムを中心に構築されていることが分かります。

- **フロントエンドフレームワーク:** Vue.js 2.6.10
- **ビルドツール:** Vue CLI 4.0.0
- **状態管理:** Vuex
- **ルーティング:** Vue Router
- **HTTP通信:** Axios
- **CSSプリプロセッサ:** Stylus
- **リンター & フォーマッター:** ESLint (Airbnb, Prettier), Prettier
- **トランスパイラ:** Babel

## 3. プロジェクト構造

提供されたファイルリストから、プロジェクトはコンポーネントベースのアーキテクチャを採用していると推測されます。

- **`public/`**: `index.html`や`favicon.ico`、サウンドフォントファイル(`acoustic_grand_piano-mp3.js`)などが配置される静的アセット用のディレクトリ。
- **`src/`**: アプリケーションの主要なソースコードが格納されています。
  - **`src/assets/`**: 画像ファイルなどのアセット。
  - **`src/comp/`**: `xw-button`や`xw-table`など、アプリケーション全体で再利用可能な汎用コンポーネントが格納されています。
  - **`src/lib/`**: 外部ライブラリや、プロジェクト固有のコアなユーティリティ関数（MD5ハッシュ生成、クエリストリング操作など）が配置されています。
  - **`src/pages/`**: アプリケーションの主要なページコンポーネントが格納されています。特に`piano/index/app.vue`がピアノ機能の中心的なエントリーポイントであると推測されます。
  - **`src/main.js`**: Vueインスタンスを初期化し、アプリケーションを起動するエントリーポイントファイルです。
  - **`src/create-router.js`**: Vue Routerのルーティング設定が記述されているファイルです。
- **`src/pages/piano/`**: ピアノ機能に関連するコンポーネント、ロジック、アセットが集中しています。
  - **`comp/`**: ピアノ鍵盤(`keyboard.vue`)、設定パネル(`panels-main.vue`)など、ピアノ機能に特化したコンポーネント群。
  - **`controllers/`**: MIDI連携(`midi-peripheral.js`)やオンライン機能(`online.js`)など、外部との連携や制御ロジック。
  - **`panels/`**: 録音(`record.vue`)、設定(`settings.vue`)、PCキーボードマッピング(`pc-keyboard.vue`)など、各種機能のUIパネル。
  - **`midi/`**: MIDIファイルの再生や処理に関連するライブラリ。

## 4. 推定される主な機能

ファイル名や構造から、以下の機能が実装されていると推測されます。

- **ピアノ鍵盤の表示と演奏:** マウスクリックやタッチ操作によるピアノ演奏。
- **PCキーボードでの演奏:** PCのキーボードをピアノの鍵盤にマッピングして演奏する機能。
- **MIDI対応:**
  - MIDIキーボードなどの外部デバイスからの入力受付 (`midi-peripheral.js`)。
  - MIDIファイルの読み込みと再生 (`xiwnn-midi/`)。
- **録音機能:** 演奏を録音し、再生する機能 (`record.vue`, `record-back-end.js`)。
- **音色設定:** サウンドフォントの切り替えなど、音色に関する設定。
- **オンライン連携:** 他のユーザーとの連携やデータの同期 (`online.js`, `online.vue`)。
- **カスタマイズ可能なUI:** 各種設定パネルによる詳細なカスタマイズ。

## 5. 利用可能なスクリプト

`package.json`には、開発とビルドのための基本的なスクリプトが定義されています。

- **`npm run serve` / `npm run dev`**: 開発モードでアプリケーションを起動し、ホットリロードを有効にします。
- **`npm run build`**: プロダクション用にプロジェクトをコンパイル・最適化し、`dist`ディレクトリに成果物を出力します。
- **`npm run lint`**: ESLintを実行し、コードスタイルをチェック・自動修正します。

## 6. コード品質

プロジェクトにはコードの品質と一貫性を保つための仕組みが導入されています。

- **ESLint:** AirbnbとPrettierのルールセットに基づき、静的コード解析が行われます。
- **Git Hooks:** `pre-commit`フックが設定されており、`lint-staged`を通じてコミット前に自動的にリンターが実行されます。これにより、リポジトリにコミットされるコードの品質がある程度担保されます。
